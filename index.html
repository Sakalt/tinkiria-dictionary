<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>辞書</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .word {
            font-weight: bold;
            cursor: pointer;
            color: blue;
            text-decoration: underline;
            margin-bottom: 5px;
        }
        .definition {
            display: none;
            margin-bottom: 10px;
        }
        .examples {
            margin-left: 20px;
            list-style-type: square;
        }
        .toggle-button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
            margin-top: 5px;
            cursor: pointer;
        }
    </style>
    <script>
        let dictionary = [];

        async function fetchDictionary() {
            const response = await fetch('dictionary.json');
            dictionary = await response.json();
            displayDictionary();
        }

        function displayDictionary() {
            const dictionaryContainer = document.getElementById('dictionary');
            dictionaryContainer.innerHTML = '';

            dictionary.forEach(item => {
                const wordElement = document.createElement('div');
                wordElement.classList.add('word');
                wordElement.textContent = item.word;

                const definitionElement = document.createElement('div');
                definitionElement.classList.add('definition');
                definitionElement.textContent = `意味: ${item.definition}`;

                const examplesElement = document.createElement('ul');
                examplesElement.classList.add('examples');
                examplesElement.innerHTML = item.examples.map(example => `<li>${example}</li>`).join('');

                const toggleButton = document.createElement('button');
                toggleButton.classList.add('toggle-button');
                toggleButton.textContent = '詳細を表示';
                toggleButton.onclick = () => toggleDetails(definitionElement, examplesElement, toggleButton);

                dictionaryContainer.appendChild(wordElement);
                dictionaryContainer.appendChild(toggleButton);
                dictionaryContainer.appendChild(definitionElement);
                dictionaryContainer.appendChild(examplesElement);

                const divider = document.createElement('hr');
                dictionaryContainer.appendChild(divider);
            });
        }

        function toggleDetails(definitionElement, examplesElement, toggleButton) {
            if (definitionElement.style.display === 'none') {
                definitionElement.style.display = 'block';
                examplesElement.style.display = 'block';
                toggleButton.textContent = '詳細を非表示';
            } else {
                definitionElement.style.display = 'none';
                examplesElement.style.display = 'none';
                toggleButton.textContent = '詳細を表示';
            }
        }

        let currentPage = 1;
const pageSize = 20; // 1ページに表示する単語の数

function displayDictionary() {
    const startIndex = (currentPage - 1) * pageSize;
    const endIndex = startIndex + pageSize;
    const wordsToShow = dictionary.slice(startIndex, endIndex);

    // 現在のページの単語を表示する処理を記述する
    // 以下は既存の displayDictionary 関数の一部を例示したものです
    dictionaryContainer.innerHTML = '';

    wordsToShow.forEach(item => {
        // 各単語の表示処理
    });

    // ページングのための戻る・進むボタンの制御
    updatePageButtons();
}

function previousPage() {
    if (currentPage > 1) {
        currentPage--;
        displayDictionary();
    }
}

function nextPage() {
    const maxPage = Math.ceil(dictionary.length / pageSize);
    if (currentPage < maxPage) {
        currentPage++;
        displayDictionary();
    }
}

function updatePageButtons() {
    const maxPage = Math.ceil(dictionary.length / pageSize);
    const previousButton = document.getElementById('previousButton');
    const nextButton = document.getElementById('nextButton');

    if (currentPage === 1) {
        previousButton.disabled = true;
    } else {
        previousButton.disabled = false;
    }

    if (currentPage === maxPage) {
        nextButton.disabled = true;
    } else {
        nextButton.disabled = false;
    }
}

        window.onload = fetchDictionary;
        async function fetchDictionary() {
    try {
        const response = await fetch('dictionary.json');
        if (!response.ok) {
            throw new Error('ファイルの読み込みに失敗しました。');
        }
        dictionary = await response.json();
        displayDictionary();
    } catch (error) {
        console.error('fetchエラー:', error);
    }
}
    </script>
</head>
<body>
    <h1>辞書</h1>
    <div id="dictionary"></div>
</body>
</html>
